{% extends 'base.html' %}
{% load static %}

{% block title %}Criar Conta - Peladeiros{% endblock %}

{% block content %}
<section class="registration">
    <div class="container">
        <h2 class="section-title">Crie sua Conta</h2>
        <div class="form-container">
            <div class="form-header">
                <h2>Cadastro de Usuário</h2>
            </div>
            <div class="form-body">
                <form method="post" id="registration-form" novalidate>
                    {% csrf_token %}
                    {{ form.username }}

                    <div class="form-row">
                        <div class="form-group" style="flex: 1 0 100%;">
                            <label for="{{ form.first_name.id_for_label }}">Nome Completo</label>
                            {{ form.first_name }}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="{{ form.sexo.id_for_label }}">Sexo</label>
                            {{ form.sexo }}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.cpf.id_for_label }}">CPF</label>
                            {{ form.cpf }}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="{{ form.data_nascimento.id_for_label }}">Data de Nascimento</label>
                            {{ form.data_nascimento }}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.telefone.id_for_label }}">Telefone</label>
                            {{ form.telefone }}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group" style="flex: 1 0 100%;">
                            <label for="{{ form.email.id_for_label }}">E-mail</label>
                            {{ form.email }}
                        </div>
                    </div>
                    
                    <hr style="margin: 20px 0;">

                    <div class="form-group">
                        <label for="{{ form.cep.id_for_label }}">CEP</label>
                        <div class="cep-group">
                           {{ form.cep }}
                           <button type="button" id="search-cep" class="btn">Buscar</button>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="{{ form.logradouro.id_for_label }}">Rua</label>
                            {{ form.logradouro }}
                        </div>
                        <div class="form-group" style="flex-basis: 120px; flex-grow: 0;">
                            <label for="{{ form.numero.id_for_label }}">Número</label>
                            {{ form.numero }}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="{{ form.complemento.id_for_label }}">Complemento</label>
                            {{ form.complemento }}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.bairro.id_for_label }}">Bairro</label>
                            {{ form.bairro }}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="{{ form.cidade.id_for_label }}">Cidade</label>
                            {{ form.cidade }}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.estado.id_for_label }}">Estado</label>
                            {{ form.estado }}
                        </div>
                    </div>

                    <hr style="margin: 20px 0;">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="id_password1">Senha</label>
                            {{ form.password1 }}
                            <div id="password-requirements" class="password-requirements">
                                <ul>
                                    <li id="req-length">Mínimo 8 caracteres</li>
                                    <li id="req-lower">Pelo menos 1 letra minúscula</li>
                                    <li id="req-upper">Pelo menos 1 letra maiúscula</li>
                                    <li id="req-number">Pelo menos 1 número</li>
                                    <li id="req-special">Pelo menos 1 caracter especial (!@#$...)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="id_password2">Confirmar Senha</label>
                            {{ form.password2 }}
                        </div>
                    </div>
                    
                    {% if form.errors %}
                        <div class="form-errors" style="color: #d9534f; margin-top: 15px;">
                            <p>Por favor, corrija os erros abaixo:</p>
                            {{ form.non_field_errors }}
                            {% for field in form %}
                                {% for error in field.errors %}
                                    <p class="error-detail">{{ field.label }}: {{ error }}</p>
                                {% endfor %}
                            {% endfor %}
                        </div>
                    {% endif %}

                    <div class="form-footer">
                        <button type="submit" class="btn">Criar Conta</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}